import{I as d,q as s,j as r,p as t,H as e,D as l,J as n,o as p}from"./chunks/framework.BjwmYqAO.js";const m=JSON.parse('{"title":"Listbox","description":"","frontmatter":{},"headers":[],"relativePath":"patterns/Listbox.md","filePath":"patterns/Listbox.md"}'),h={name:"patterns/Listbox.md"};function k(u,i,c,b,g,E){const o=s("VPSource"),a=s("VPDemo");return p(),r("div",null,[i[0]||(i[0]=t("h1",{id:"listbox",tabindex:"-1"},[e("Listbox "),t("a",{class:"header-anchor",href:"#listbox","aria-label":'Permalink to "Listbox"'},"​")],-1)),i[1]||(i[1]=t("p",null,"Pick option(s) from a list of options.",-1)),i[2]||(i[2]=t("p",null,"在一组选项中选择一个或一些。",-1)),l(o,{path:"patterns/VListbox.vue"}),l(a,{path:"patterns/ListboxHL"}),i[3]||(i[3]=n(`<h2 id="view" tabindex="-1">View <a class="header-anchor" href="#view" aria-label="Permalink to &quot;View&quot;">​</a></h2><p>Spec: <a href="https://www.w3.org/WAI/ARIA/apg/patterns/listbox/" target="_blank" rel="noreferrer">https://www.w3.org/WAI/ARIA/apg/patterns/listbox/</a></p><h3 id="dom" tabindex="-1">DOM <a class="header-anchor" href="#dom" aria-label="Permalink to &quot;DOM&quot;">​</a></h3><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> role</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;listbox&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> role</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;option&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> role</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Title&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> role</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;option&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="command-list" tabindex="-1">Command List <a class="header-anchor" href="#command-list" aria-label="Permalink to &quot;Command List&quot;">​</a></h3>`,5)),i[4]||(i[4]=t("table",{tabindex:"0"},[t("thead",null,[t("tr",null,[t("th",null,"Command List"),t("th")])]),t("tbody",null,[t("tr",null,[t("td",null,[t("vp-kbd",{k:"up"}),e(" / "),t("vp-kbd",{k:"left"})]),t("td",null,"Navigates to prev. Add current option and remove other selection.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"down"}),e(" / "),t("vp-kbd",{k:"right"})]),t("td",null,"Navigates to next. Add current option and remove other selection.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Home"})]),t("td",null,"Navigates to the beginning. Add current option and remove other selection.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"End"})]),t("td",null,"Navigates to the end. Add current option and remove other selection.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Ctrl+up"}),e(" / "),t("vp-kbd",{k:"Ctrl+left"})]),t("td",null,"Navigates to prev.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Ctrl+down"}),e(" / "),t("vp-kbd",{k:"Ctrl+right"})]),t("td",null,"Navigates to next.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Ctrl+Home"})]),t("td",null,"Navigates to the beginning.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Ctrl+End"})]),t("td",null,"Navigates to the end.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Shift+up"}),e(" / "),t("vp-kbd",{k:"Shift+left"}),e(" / "),t("vp-kbd",{k:"Shift+Home"})]),t("td",null,"Add options while navigation.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Shift+down"}),e(" / "),t("vp-kbd",{k:"Shift+right"}),e(" / "),t("vp-kbd",{k:"Shift+End"})]),t("td",null,"Add options while navigation.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Space"})]),t("td",null,[e("Toggle current option. "),t("code",null,"toggle(value)")])]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"m0"})]),t("td",null,"Add target option and remove other selection.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Ctrl+m0"})]),t("td",null,"Toggle target option.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Shift+m0"})]),t("td",null,"Add options between target and current option.")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Enter"})]),t("td",null,"current.")])])],-1)),i[5]||(i[5]=n('<h2 id="basics" tabindex="-1">Basics <a class="header-anchor" href="#basics" aria-label="Permalink to &quot;Basics&quot;">​</a></h2><p>Listbox options input supports <strong>any</strong> type of option values, values are <code>key</code>s (<code>Symbol || (typeof value + value)</code>).</p><p>Listbox can have <strong>multiple</strong> selection when <code>model</code> <code>Array.isArray()</code>.</p><p>Listbox options input supports one level <strong>grouping</strong>.</p><h3 id="listbox-1" tabindex="-1">Listbox <a class="header-anchor" href="#listbox-1" aria-label="Permalink to &quot;Listbox&quot;">​</a></h3>',5)),i[6]||(i[6]=t("p",null,[e("This is an simple styled example, see how it handles keyboard events and "),t("vp-kbd",{k:"Ctrl"}),e(" and "),t("vp-kbd",{k:"Shift"}),e(".")],-1)),l(a,{path:"patterns/ListboxBasic"}),i[7]||(i[7]=t("h3",{id:"radios-segmented-single-nota-listbox",tabindex:"-1"},[e("Radios / Segmented (Single NotA-Listbox) "),t("a",{class:"header-anchor",href:"#radios-segmented-single-nota-listbox","aria-label":'Permalink to "Radios / Segmented (Single NotA-Listbox)"'},"​")],-1)),i[8]||(i[8]=t("p",null,[e("UX API Reference for "),t("code",null,"handlePoinerdown"),e(" and "),t("code",null,"handleKeydown"),e(":")],-1)),i[9]||(i[9]=t("ul",null,[t("li",null,"Circular: Navigation (Arrow keys) can teleport between first and last option."),t("li",null,[e("Magnetic: default it is "),t("code",null,"true"),e(". If set to "),t("code",null,"false"),e(", holding "),t("vp-kbd",{k:"Ctrl"}),e(" or not will be reversed. Which can create an Listbox UI that allows click to add. "),t("code",null,"VRadios.vue"),e(" for example, "),t("code",null,"magnetic"),e(" is "),t("code",null,"!multi"),e(".")])],-1)),i[10]||(i[10]=t("table",{tabindex:"0"},[t("thead",null,[t("tr",null,[t("th"),t("th",null,"Classic Listbox(Multi)"),t("th",null,"Radio / Segmented"),t("th",null,"Select")])]),t("tbody",null,[t("tr",null,[t("td",null,"UX"),t("td"),t("td",null,"Circular"),t("td",null,"Magnetic: false")]),t("tr",null,[t("td",null,[t("vp-kbd",{k:"Enter"})]),t("td"),t("td",null,"Submit nearest form"),t("td",null,"Open Select")])])],-1)),i[11]||(i[11]=n('<ul><li>Circular Navigation on demand.</li><li>Action is Submit the form.</li></ul><h3 id="picker-checkboxes-multiple-nota-listbox" tabindex="-1">Picker / Checkboxes (Multiple NotA-Listbox) <a class="header-anchor" href="#picker-checkboxes-multiple-nota-listbox" aria-label="Permalink to &quot;Picker / Checkboxes (Multiple NotA-Listbox)&quot;">​</a></h3><ul><li>Circular Navigation on demand.</li><li>Annoying Range Selection (Select / Unselect state into whole)</li></ul><h2 id="elite" tabindex="-1">Elite <a class="header-anchor" href="#elite" aria-label="Permalink to &quot;Elite&quot;">​</a></h2><h3 id="radio-group" tabindex="-1">Radio Group <a class="header-anchor" href="#radio-group" aria-label="Permalink to &quot;Radio Group&quot;">​</a></h3>',5)),l(a,{path:"patterns/ListboxRadiosPlay"}),i[12]||(i[12]=n('<h2 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h2><table tabindex="0"><thead><tr><th>VListbox</th><th>Description</th></tr></thead><tbody><tr><td><code>model</code></td><td>Value binding, listbox will in <strong>multiple</strong> mode if model <code>Array.isArray()</code>.</td></tr><tr><td><code>clearable</code></td><td>While in single option mode, select the same option will unselect it.</td></tr><tr><td><code>options</code></td><td>Listbox inputs support any type of value, support one level grouping.</td></tr><tr><td><code>disabled</code></td><td></td></tr><tr><td><code>listbox</code></td><td>Omit all other props.</td></tr></tbody></table><table tabindex="0"><thead><tr><th>Listbox API</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>The <code>id</code> for creating <code>aria-activedescendant</code> to indicate current focused option.</td></tr><tr><td><code>multi</code></td><td>model <code>Array.isArray()</code></td></tr><tr><td><code>tree</code></td><td>Contains the original (grouped) hierarchy and extra info to rendering the UI.</td></tr><tr><td><code>options</code></td><td>List of options after flatten and normalized, which are objects with <code>value</code> property.</td></tr><tr><td><code>current</code></td><td>Current focuing option index (after options are flatted)</td></tr><tr><td><code>nav(delta:number, circular?:boolean)</code></td><td>Move focus based on the delta number, skipping <code>disabled</code> options. If <code>circular</code>, <code>nav()</code> will across two edges like radios. delta can be <code>-1</code>(prev) <code>1</code>(next) <code>-Infinity</code>(Home) <code>Infinity</code>(End)</td></tr><tr><td><code>input(...values:any[])</code></td><td>Toggle selection for value(s). Will validate <code>disabled</code> state. Passing <code>listbox</code> itself will toggle current value.</td></tr></tbody></table>',3)),i[13]||(i[13]=t("table",{tabindex:"0"},[t("thead",null,[t("tr",null,[t("th",null,"Listbox EX API for View"),t("th",null,"Description")])]),t("tbody",null,[t("tr",null,[t("td",null,[t("code",null,"handlePoinerdown(e: MouseEvent, i: ListboxLeaf, opt?: { magnetic?: boolean })")]),t("td",null,[e("Handle Pointer Events, "),t("vp-kbd",{k:"Shift"}),e(" and "),t("vp-kbd",{k:"Ctrl"}),e(" have different behavior")])]),t("tr",null,[t("td",null,[t("code",null,"handleKeydown(e: KeyboardEvent, opt?: { circular?: boolean; magnetic?: boolean; })")]),t("td",null,[e("Handle Keydown Events, "),t("vp-kbd",{k:"Shift"}),e(" and "),t("vp-kbd",{k:"Ctrl"}),e(" have different behavior")])])])],-1))])}const f=d(h,[["render",k]]);export{m as __pageData,f as default};
