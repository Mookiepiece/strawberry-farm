import{D as e,u as n,R as t,c as r,b as l}from"./vendor.335fc97d.js";import"./index.27ff0710.js";import{P as a}from"./PageWalker.d61cf7bd.js";const s={vertical:{offsetSize:"offsetHeight",scrollValue:"scrollTop",scrollSize:"scrollHeight",size:"height",axis:"Y",mouseEventClientValue:"clientY",clientRectStart:"top"},horizontal:{offsetSize:"offsetWidth",scrollValue:"scrollLeft",scrollSize:"scrollWidth",size:"width",axis:"X",mouseEventClientValue:"clientX",clientRectStart:"left"}},i=[],o=({min:a=0,max:o=100,step:d=1,label:u=i})=>{const[m,v]=e.exports.useState(a),p=(m-a)/(o-a)*100,f=n(((e,n=a,t=o)=>Math.max(n,Math.min(e,t)))),h=e.exports.useRef(null),g=e.exports.useMemo((()=>u.map((({value:e,label:n})=>({value:e,label:n,percentage:Math.round((e-a)/(o-a)*100)})))),[u,o,a]),b=n((({mouse:{x:e,y:n}})=>{if(!h.current)return;const{width:t,left:r}=h.current.getBoundingClientRect(),l=(e-r)/t;if("number"==typeof d){const e=f(d*Math.round(l*(o-a)/d)+a);v(e)}else v(g[c(g.map((({percentage:e})=>e)),100*l)].value)})),{active:E,handleStart:y}=(({direction:t,onChange:r})=>{const[a,s]=e.exports.useState(!1),i=n((e=>{e.stopPropagation(),e.preventDefault();const n=(e=>"touches"in e?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY})(e);null==r||r({mouse:n})})),o=n((()=>{s(!1),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",o),document.removeEventListener("touchcancel",o)})),c=n((e=>{s(!0),i(e.nativeEvent),document.addEventListener("mousemove",i),document.addEventListener("mouseup",o),document.addEventListener("touchmove",i),document.addEventListener("touchend",o),document.addEventListener("touchcancel",o)}));return l(o),{active:a,handleStart:c,handleDrag:i,handleEnd:o}})({direction:s.horizontal,onChange:b});return t.createElement("div",{className:r("st-slider",E&&"st-slider--active")},t.createElement("div",{className:"st-slider__labels"},g.map((({label:e,value:n,percentage:r})=>t.createElement("div",{className:"st-slider__label-item",key:n,onClick:()=>v(n),style:{left:r+"%"}},t.createElement("div",{className:"st-slider__label-item__inner"},e||n))))),t.createElement("input",{type:"range",className:"st-slider__input-el",onKeyDown:e=>{switch(e.key){case"ArrowRight":case"ArrowUp":e.preventDefault(),(()=>{if(null===d){const e=c(g.map((({percentage:e})=>e)),p);v(g[f(e+1,0,g.length-1)].value)}else v(f(m+d))})();break;case"ArrowLeft":case"ArrowDown":e.preventDefault(),(()=>{if(null===d){const e=c(g.map((({percentage:e})=>e)),p);v(g[f(e-1,0,g.length-1)].value)}else v(f(m-d))})()}}}),t.createElement("div",{className:"st-slider__rail",ref:h,onMouseDown:y},t.createElement("div",{className:"st-slider__fill",style:{width:p+"%"}}),t.createElement("div",{className:"st-slider__thumb",style:{left:p+"%"},onTouchStart:y},t.createElement("div",{className:"st-slider__tooltip"},m))))},c=(e,n)=>n<=e[0]?0:n>=e[e.length-1]?e.length-1:e.reduce(((t,r,l)=>{if("number"==typeof t)return t;if(e.length-1!==l){const t=e[l+1];if(r<=n&&n<t)return n-r>t-n?l+1:l}}),void 0);const d={"/src/st-assets/Slider/basic.tsx":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>t.createElement(t.Fragment,null,t.createElement("div",{style:{padding:40}},t.createElement(o,null)),t.createElement("div",{style:{padding:40}},t.createElement(o,{min:10,max:20,step:2,label:[{value:14}]})),t.createElement("div",{style:{padding:40}},t.createElement(o,{min:101,max:201,step:2,label:[{value:114}]}))," ",t.createElement("div",{style:{padding:40}},t.createElement(o,{min:101,max:201,step:null,label:[{value:101},{value:114},{value:133},{value:201}]})))})},u={basic:"import React from 'react';\r\nimport { Slider } from 'starfall';\r\n\r\nconst BasicUsage: React.FC = () => {\r\n  return (\r\n    <>\r\n      <div style={{ padding: 40 }}>\r\n        <Slider />\r\n      </div>\r\n      <div style={{ padding: 40 }}>\r\n        <Slider\r\n          min={10}\r\n          max={20}\r\n          step={2}\r\n          label={[\r\n            {\r\n              value: 14,\r\n            },\r\n          ]}\r\n        />\r\n      </div>\r\n      <div style={{ padding: 40 }}>\r\n        <Slider\r\n          min={101}\r\n          max={201}\r\n          step={2}\r\n          label={[\r\n            {\r\n              value: 114,\r\n            },\r\n          ]}\r\n        />\r\n      </div>{' '}\r\n      <div style={{ padding: 40 }}>\r\n        <Slider\r\n          min={101}\r\n          max={201}\r\n          step={null}\r\n          label={[\r\n            {\r\n              value: 101,\r\n            },\r\n            {\r\n              value: 114,\r\n            },\r\n            {\r\n              value: 133,\r\n            },\r\n            {\r\n              value: 201,\r\n            },\r\n          ]}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default BasicUsage;\r\n"},m={zh:"## Slider 滑块\r\n\r\n如果要写一个你自己的滑块，别忘了添加`touch-action:none`以让触摸屏不要识别手势\r\n\r\n### 基本用法\r\n\r\nTODO: 添加越界 label 判断\r\n\r\n::demo{basic}\r\n\r\n### 接口索引\r\n\r\n| Slider Property | Description                               | Type                                   |\r\n| --------------- | ----------------------------------------- | -------------------------------------- |\r\n| min             | 默认`0`                                   | `number`                               |\r\n| max             | 默认`100`                                 | `number`                               |\r\n| step            | 步长，默认`1`，设置为 null 以吸附到 label | `number / null`                        |\r\n| labels          | 标签                                      | `{ value: number; label?: ReactNode }` |\r\n\r\n\\*除上述属性，按钮仍继承原生 `<button>` 属性, 如 `disabled`\r\n",en:""};export default()=>t.createElement(a,{requireDemo:d,requireRaw:u,requireMd:m});
