import{u as e,D as t,R as n,c as r}from"./vendor.8bef1297.js";import{u as a}from"./index.55855cee.js";import{P as l}from"./PageWalker.facc56b8.js";const s=()=>{},i=[],u=({value:l=0,onChange:u=s,min:c=0,max:m=100,step:d=1,label:p=i})=>{const v=(l-c)/(m-c)*100,g=e(((e,t=c,n=m)=>Math.max(t,Math.min(e,n)))),b=t.exports.useRef(null),f=t.exports.useMemo((()=>p.map((({value:e,label:t})=>({value:e,label:t,percentage:Math.round((e-c)/(m-c)*100)})))),[p,m,c]),S=e((({mouse:{x:e,y:t}})=>{if(!b.current)return;const{width:n,left:r}=b.current.getBoundingClientRect(),a=(e-r)/n;if("number"==typeof d){const e=g(d*Math.round(a*(m-c)/d)+c);u(e)}else u(f[o(f.map((({percentage:e})=>e)),100*a)].value)})),{active:h,handleStart:_}=a({onChange:S});return n.createElement("div",{className:r("st-slider",h&&"st-slider--active")},n.createElement("div",{className:"st-slider__labels"},f.map((({label:e,value:t,percentage:r})=>n.createElement("div",{className:"st-slider__label-item",key:t,onClick:()=>u(t),style:{left:r+"%"}},n.createElement("div",{className:"st-slider__label-item__inner"},e||t))))),n.createElement("input",{type:"range",className:"st-slider__input-el",onKeyDown:e=>{switch(e.key){case"ArrowRight":case"ArrowUp":e.preventDefault(),(()=>{if(null===d){const e=o(f.map((({percentage:e})=>e)),v);u(f[g(e+1,0,f.length-1)].value)}else u(g(l+d))})();break;case"ArrowLeft":case"ArrowDown":e.preventDefault(),(()=>{if(null===d){const e=o(f.map((({percentage:e})=>e)),v);u(f[g(e-1,0,f.length-1)].value)}else u(g(l-d))})()}}}),n.createElement("div",{className:"st-slider__rail",ref:b,onMouseDown:_},n.createElement("div",{className:"st-slider__fill",style:{width:v+"%"}}),n.createElement("div",{className:"st-slider__thumb",style:{left:v+"%"},onTouchStart:e=>{e.stopPropagation(),_(e)}},n.createElement("div",{className:"st-slider__tooltip"},l))))},o=(e,t)=>t<=e[0]?0:t>=e[e.length-1]?e.length-1:e.reduce(((n,r,a)=>{if("number"==typeof n)return n;if(e.length-1!==a){const n=e[a+1];if(r<=t&&t<n)return t-r>n-t?a+1:a}}),void 0);const c={"/src/st-assets/Slider/basic.tsx":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>{const[e,r]=t.exports.useState(0),[a,l]=t.exports.useState(10),[s,i]=t.exports.useState(101),[o,c]=t.exports.useState(101);return n.createElement(n.Fragment,null,n.createElement("div",{style:{padding:40}},n.createElement(u,{value:e,onChange:r})),n.createElement("div",{style:{padding:40}},n.createElement(u,{value:a,onChange:l,min:10,max:20,step:2,label:[{value:14}]})),n.createElement("div",{style:{padding:40}},n.createElement(u,{value:s,onChange:i,min:101,max:201,step:2,label:[{value:114}]}))," ",n.createElement("div",{style:{padding:40}},n.createElement(u,{value:o,onChange:c,min:101,max:201,step:null,label:[{value:101},{value:114},{value:133},{value:201}]})))}})},m={basic:"import React, { useState } from 'react';\r\nimport { Slider } from 'starfall';\r\n\r\nconst BasicUsage: React.FC = () => {\r\n  const [state, setState] = useState(0);\r\n  const [state2, setState2] = useState(10);\r\n  const [state3, setState3] = useState(101);\r\n  const [state4, setState4] = useState(101);\r\n  return (\r\n    <>\r\n      <div style={{ padding: 40 }}>\r\n        <Slider value={state} onChange={setState} />\r\n      </div>\r\n      <div style={{ padding: 40 }}>\r\n        <Slider\r\n          value={state2}\r\n          onChange={setState2}\r\n          min={10}\r\n          max={20}\r\n          step={2}\r\n          label={[\r\n            {\r\n              value: 14,\r\n            },\r\n          ]}\r\n        />\r\n      </div>\r\n      <div style={{ padding: 40 }}>\r\n        <Slider\r\n          value={state3}\r\n          onChange={setState3}\r\n          min={101}\r\n          max={201}\r\n          step={2}\r\n          label={[\r\n            {\r\n              value: 114,\r\n            },\r\n          ]}\r\n        />\r\n      </div>{' '}\r\n      <div style={{ padding: 40 }}>\r\n        <Slider\r\n          value={state4}\r\n          onChange={setState4}\r\n          min={101}\r\n          max={201}\r\n          step={null}\r\n          label={[\r\n            {\r\n              value: 101,\r\n            },\r\n            {\r\n              value: 114,\r\n            },\r\n            {\r\n              value: 133,\r\n            },\r\n            {\r\n              value: 201,\r\n            },\r\n          ]}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default BasicUsage;\r\n"},d={zh:"## Slider 滑块\r\n\r\n如果要写一个你自己的滑块，别忘了添加`touch-action:none`以让触摸屏不要识别手势\r\n\r\n### 基本用法\r\n\r\nTODO: 添加越界 label 判断\r\n\r\n::demo{basic}\r\n\r\n### 接口索引\r\n\r\n| Slider Property | Description                               | Type                                   |\r\n| --------------- | ----------------------------------------- | -------------------------------------- |\r\n| min             | 默认`0`                                   | `number`                               |\r\n| max             | 默认`100`                                 | `number`                               |\r\n| step            | 步长，默认`1`，设置为 null 以吸附到 label | `number / null`                        |\r\n| labels          | 标签                                      | `{ value: number; label?: ReactNode }` |\r\n\r\n\\*除上述属性，按钮仍继承原生 `<button>` 属性, 如 `disabled`\r\n",en:""};export default()=>n.createElement(l,{requireDemo:c,requireRaw:m,requireMd:d});
