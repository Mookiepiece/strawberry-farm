var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,p=(r,t,o)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o;import{D as i,R as a}from"./vendor.8bef1297.js";import{P as l,B as u}from"./index.55855cee.js";import{P as c}from"./PageWalker.facc56b8.js";const d=e=>{var u=e,{trigger:c,timeout:d,children:m,visible:f,onClose:v,closeOnClickOutside:b,popup:g}=u,C=((e,r)=>{var t={};for(var p in e)s.call(e,p)&&r.indexOf(p)<0&&(t[p]=e[p]);if(null!=e&&o)for(var p of o(e))r.indexOf(p)<0&&n.call(e,p)&&(t[p]=e[p]);return t})(u,["trigger","timeout","children","visible","onClose","closeOnClickOutside","popup"]);const[E,y]=i.exports.useState(!1);i.exports.useEffect((()=>{if(!c){if("boolean"!=typeof f)throw new Error("[st-popover] visible muse be provide if trigger not provided");y(f)}}),[f,c]);const P=i.exports.useRef(!1),h=i.exports.useRef(),x=()=>h.current&&clearTimeout(h.current),B=()=>{x(),y(!0)},O=()=>{x(),h.current=setTimeout((()=>{y(!1),null==v||v()}),"hover"===c?d||500:d||0)},T="click"===c?e=>{var r,t;E?O():B(),null==(t=(r=m.props).onClick)||t.call(r,e)}:m.props.onClick,k="hover"===c?e=>{var r,t;B(),P.current=!0,null==(t=(r=m.props).onMouseEnter)||t.call(r,e)}:m.props.onMouseEnter,M="hover"===c?e=>{var r,t;O(),P.current=!1,null==(t=(r=m.props).onMouseLeave)||t.call(r,e)}:m.props.onMouseLeave,N="focus"===c||"hover"===c?e=>{var r,t;B(),null==(t=(r=m.props).onFocus)||t.call(r,e)}:void 0,S="focus"===c||"hover"===c?e=>{var r,t;"hover"===c&&!0===P.current||O(),null==(t=(r=m.props).onBlur)||t.call(r,e)}:void 0;return a.createElement(l,(V=((e,r)=>{for(var t in r||(r={}))s.call(r,t)&&p(e,t,r[t]);if(o)for(var t of o(r))n.call(r,t)&&p(e,t,r[t]);return e})({},C),r(V,t({popup:a.createElement("div",{onMouseEnter:"hover"===c?()=>{P.current=!0,x()}:void 0,onMouseLeave:"hover"===c?()=>{P.current=!1,O()}:void 0},g),visible:E,onClose:c?O:v,closeOnClickOutside:"boolean"==typeof b?b:"hover"!==c}))),a.cloneElement(m,{onClick:T,onMouseEnter:k,onMouseLeave:M,onFocus:N,onBlur:S}));var V},m=l.modifiers.createOffsetModifier(0,10);const f={"/src/st-assets/Popper/basic.tsx":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>{const[e,r]=i.exports.useState(!1),[t,o]=i.exports.useState(!1),[s,n]=i.exports.useState(!1),p=i.exports.useRef();return a.createElement("div",{style:{display:"grid",gap:20,gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))"}},a.createElement(l,{popup:a.createElement("p",null,"asdsd"),popupClassName:"st-popper--default",visible:e,onClose:()=>r(!1)},a.createElement(u,{primary:!0,onFocus:()=>r(!0),onBlur:()=>r(!1)},"onFocus")),a.createElement(l,{popup:a.createElement("p",null,"asdsd asdsd asdsd asdsd"),popupClassName:"st-popper--default",visible:t,onClose:()=>o(!1),modifiers:[m,l.modifiers.arrow]},a.createElement(u,{primary:!0,onClick:()=>o((e=>!e))},"onClick")),a.createElement(l,{popup:a.createElement("p",{onMouseEnter:()=>{p.current&&clearTimeout(p.current),n(!0)},onMouseLeave:()=>p.current=setTimeout((()=>n(!1)),200)},"asds dasd sdasdsd asdsd"),popupClassName:"st-popper--default",visible:s,onClose:()=>n(!1),closeOnClickOutside:!1,modifiers:[m],placement:"right"},a.createElement(u,{primary:!0,onMouseEnter:()=>{p.current&&clearTimeout(p.current),n(!0)},onMouseLeave:()=>p.current=setTimeout((()=>n(!1)),200)},"onHover")))}}),"/src/st-assets/Popper/popover.tsx":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>{const[e,r]=i.exports.useState(!1);return a.createElement("div",{style:{display:"grid",gap:20,gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))"}},a.createElement(d,{popup:a.createElement("p",null,"asdsd"),trigger:"focus",popupClassName:"st-popper--default"},a.createElement(u,{primary:!0},"trigger=`focus`")),a.createElement(d,{popup:a.createElement("p",null,"asdsd"),popupClassName:"st-popper--default",visible:e,onClose:()=>r(!1)},a.createElement(u,{primary:!0,onClick:()=>r((e=>!e))},"mannually, like using popper")),a.createElement(d,{popup:a.createElement("p",null,"asdsd"),popupClassName:"st-popper--default",trigger:"click"},a.createElement(u,{primary:!0},"trigger=`click`")),a.createElement(d,{popup:a.createElement("p",null,"Note that this will also trigger on focus because i want it to be accessable"),popupClassName:"st-popper--default",trigger:"hover"},a.createElement(u,{primary:!0},"trigger=`hover` ")))}})},v={basic:"import React, { useState } from 'react';\r\nimport { useRef } from 'react';\r\nimport { Button, Popper } from 'starfall';\r\n\r\nconst offset = Popper.modifiers.createOffsetModifier(0, 10);\r\n\r\nconst BasicUsage: React.FC = () => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [visible2, setVisible2] = useState(false);\r\n  const [visible3, setVisible3] = useState(false);\r\n\r\n  const hideTimer = useRef<NodeJS.Timeout>();\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'grid',\r\n        gap: 20,\r\n        gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\r\n      }}\r\n    >\r\n      <Popper\r\n        popup={<p>asdsd</p>}\r\n        popupClassName=\"st-popper--default\"\r\n        visible={visible}\r\n        onClose={() => setVisible(false)}\r\n      >\r\n        <Button primary onFocus={() => setVisible(true)} onBlur={() => setVisible(false)}>\r\n          onFocus\r\n        </Button>\r\n      </Popper>\r\n      <Popper\r\n        popup={<p>asdsd asdsd asdsd asdsd</p>}\r\n        popupClassName=\"st-popper--default\"\r\n        visible={visible2}\r\n        onClose={() => setVisible2(false)}\r\n        modifiers={[offset, Popper.modifiers.arrow]}\r\n      >\r\n        <Button primary onClick={() => setVisible2(v => !v)}>\r\n          onClick\r\n        </Button>\r\n      </Popper>\r\n      <Popper\r\n        popup={\r\n          <p\r\n            onMouseEnter={() => {\r\n              hideTimer.current && clearTimeout(hideTimer.current);\r\n              setVisible3(true);\r\n            }}\r\n            onMouseLeave={() => (hideTimer.current = setTimeout(() => setVisible3(false), 200))}\r\n          >\r\n            asds dasd sdasdsd asdsd\r\n          </p>\r\n        }\r\n        popupClassName=\"st-popper--default\"\r\n        visible={visible3}\r\n        onClose={() => setVisible3(false)}\r\n        closeOnClickOutside={false}\r\n        modifiers={[offset]}\r\n        placement=\"right\"\r\n      >\r\n        <Button\r\n          primary\r\n          onMouseEnter={() => {\r\n            hideTimer.current && clearTimeout(hideTimer.current);\r\n            setVisible3(true);\r\n          }}\r\n          onMouseLeave={() => (hideTimer.current = setTimeout(() => setVisible3(false), 200))}\r\n        >\r\n          onHover\r\n        </Button>\r\n      </Popper>\r\n    </div>\r\n  );\r\n};\r\nexport default BasicUsage;\r\n",popover:'import React, { useState } from \'react\';\r\nimport { Button, Popover } from \'starfall\';\r\n\r\nconst BasicUsage: React.FC = () => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \'grid\',\r\n        gap: 20,\r\n        gridTemplateColumns: \'repeat(auto-fit, minmax(250px, 1fr))\',\r\n      }}\r\n    >\r\n      <Popover popup={<p>asdsd</p>} trigger="focus" popupClassName="st-popper--default">\r\n        <Button primary>trigger=`focus`</Button>\r\n      </Popover>\r\n      <Popover\r\n        popup={<p>asdsd</p>}\r\n        popupClassName="st-popper--default"\r\n        visible={visible}\r\n        onClose={() => setVisible(false)}\r\n      >\r\n        <Button primary onClick={() => setVisible(v => !v)}>\r\n          mannually, like using popper\r\n        </Button>\r\n      </Popover>\r\n      <Popover popup={<p>asdsd</p>} popupClassName="st-popper--default" trigger="click">\r\n        <Button primary>trigger=`click`</Button>\r\n      </Popover>\r\n      <Popover\r\n        popup={<p>Note that this will also trigger on focus because i want it to be accessable</p>}\r\n        popupClassName="st-popper--default"\r\n        trigger="hover"\r\n      >\r\n        <Button primary>trigger=`hover` </Button>\r\n      </Popover>\r\n    </div>\r\n  );\r\n};\r\nexport default BasicUsage;\r\n'},b={zh:"## Popper 弹层\r\n\r\n### 基本用法\r\n\r\n::demo{basic}\r\n\r\n### Popover\r\n\r\n`Popover`在 popper 的基础上做了简易封装，主要提供`trigger`属性简化了使用。\r\n\r\n::demo{popover}\r\n",en:"## Popper\r\n"};export default()=>a.createElement(c,{requireDemo:f,requireRaw:v,requireMd:b});
