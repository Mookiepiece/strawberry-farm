import{D as e,R as n,c as t}from"./vendor.2a2b1e8b.js";import{P as r,b as l,I as a}from"./index.0c2517e7.js";import{P as o}from"./PageWalker.fa3bd3d3.js";const s=(e,n)=>e.filter((({label:e,value:t})=>(console.log(e||(t?t.toString():"")),(e||(t?t.toString():"")).startsWith(n)))),u=({value:o,onChange:u,options:i,renderOptions:c,placeholder:v,filterable:p=!1,filter:m=s})=>{var d,f;const[g,h]=e.exports.useState(!1),[b,S]=e.exports.useState(0),[x,E]=e.exports.useState(""),y=x?m(i,x):i,C=e=>{null==u||u(y[e].value),h(!1)};e.exports.useEffect((()=>{g&&E("")}),[g]);const k=e.exports.useRef(null),D=e.exports.useRef([]),w=e=>{var n;const t=D.current[e];(null==(n=k.current)?void 0:n.container)&&t&&(k.current.container.scrollTop=t.offsetTop-30)},W=i.findIndex((({value:e})=>e===o)),R=(null==(d=i[W])?void 0:d.label)||(null==(f=null==o?void 0:o.toString)?void 0:f.call(o))||"";return n.createElement(n.Fragment,null,n.createElement(r,{visible:g,popup:n.createElement(l,{containerStyle:{maxHeight:200},ref:k},y.map(((e,r)=>{const{value:l,label:a}=e,s=b===r,u=o===l;return n.createElement("div",{key:`${l}`,className:t("st-option",s&&"st-option--pending",u&&"st-option--selected"),onMouseMove:()=>S(r),onTouchMove:()=>S(r),onClick:()=>C(r),ref:e=>D.current[r]=e},c?c(e,{pending:s,selected:u}):n.createElement("div",{className:"st-option__inner"},a||l))}))),modifiers:[r.modifiers.sameWidth,r.modifiers.preventOverflow],popupClassName:"st-popper--default st-popper--zoom-y",onClose:()=>h(!1)},n.createElement(a,{readOnly:!p||!g,onClick:()=>h(!0),onKeyDown:e=>{switch(e.key){case"Enter":e.preventDefault(),b>-1&&b<i.length&&C(b);break;case"ArrowDown":if(e.preventDefault(),i.length){h(!0);const e=(b+1)%i.length;S(e),w(e)}break;case"ArrowUp":if(e.preventDefault(),i.length){h(!0);const e=(b-1+i.length)%i.length;S(e),w(e)}break;case"Escape":e.preventDefault(),h(!1)}},value:g?x:R,onChange:E,placeholder:g&&R?R:v})))},i=[{value:1},{value:12},{value:31},{value:311},{value:231},{value:321},{value:3331},{value:3431},{value:3117},{value:3231}];const c={"/src/st-assets/Select/basic.tsx":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>{const[t,r]=e.exports.useState(null),[l,a]=e.exports.useState(null);return n.createElement(n.Fragment,null,n.createElement("div",{style:{maxWidth:240}},n.createElement(u,{filterable:!0,value:t,onChange:r,options:i})),n.createElement("div",{style:{maxWidth:240}},n.createElement(u,{value:l,onChange:a,options:i})))}})},v={basic:"import React, { useState } from 'react';\r\nimport { Select } from 'starfall';\r\n\r\nconst options = [\r\n  {\r\n    value: 1,\r\n  },\r\n  {\r\n    value: 12,\r\n  },\r\n  {\r\n    value: 31,\r\n  },\r\n  {\r\n    value: 311,\r\n  },\r\n  {\r\n    value: 231,\r\n  },\r\n  {\r\n    value: 321,\r\n  },\r\n  {\r\n    value: 3331,\r\n  },\r\n  {\r\n    value: 3431,\r\n  },\r\n  {\r\n    value: 3117,\r\n  },\r\n  {\r\n    value: 3231,\r\n  },\r\n];\r\n\r\nconst BasicUsage: React.FC = () => {\r\n  const [value, setValue] = useState<any>(null);\r\n  const [value2, setValue2] = useState<any>(null);\r\n  return (\r\n    <>\r\n      <div style={{ maxWidth: 240 }}>\r\n        <Select<number> filterable value={value} onChange={setValue} options={options} />\r\n      </div>\r\n      <div style={{ maxWidth: 240 }}>\r\n        <Select<number> value={value2} onChange={setValue2} options={options} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default BasicUsage;\r\n"},p={zh:"## Select 选择器\r\n\r\n### 基本用法\r\n\r\n::demo{basic}\r\n",en:"## Select 选择器\r\n"};export default()=>n.createElement(o,{requireDemo:c,requireRaw:v,requireMd:p});
