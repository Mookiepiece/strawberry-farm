<script setup lang="ts">
import { applyTransform, levitate } from '@mookiepiece/strawberry-farm/shared';
import { ref } from 'vue';

const anchor = ref<HTMLElement>();
const pop = ref<HTMLElement>();

const visible = ref(false);

const changeDir = (_dir: any) => {
  visible.value = !visible.value;

  levitate(anchor.value!, pop.value!, {
    dir: _dir,
    plugins: [applyTransform],
  });
};
</script>

<template>
  <div ref="anchor" class="reference üçí" />
  <Teleport to="body">
    <div
      ref="pop"
      class="floating üçí"
      :style="!visible ? { clipPath: 'circle(0)' } : {}"
    >
      üçì
    </div>
  </Teleport>
  <button @click="changeDir('top')">Top</button>
</template>

<style scoped>
.reference {
  width: 100px;
  height: 100px;
}
.floating {
  position: fixed;
  top: 0;
  left: 0;
  padding: 10px;
  z-index: 1;
}
</style>
